var jQueryCrayon=jQuery;(function(a){CrayonUtil=new function(){var c=this;var b=null;c.init=function(){b=CrayonSyntaxSettings;c.initGET()};c.addPrefixToID=function(d){return d.replace(/^([#.])?(.*)$/,"$1"+b.prefix+"$2")};c.removePrefixFromID=function(e){var d=new RegExp("^[#.]?"+b.prefix,"i");return e.replace(d,"")};c.cssElem=function(d){return a(c.addPrefixToID(d))};c.setDefault=function(e,f){return(typeof e=="undefined")?f:e};c.setMax=function(e,d){return e<=d?e:d};c.setMin=function(d,e){return d>=e?d:e};c.setRange=function(e,f,d){return c.setMax(c.setMin(e,f),d)};c.getExt=function(e){if(e.indexOf(".")==-1){return undefined}var d=e.split(".");if(d.length){d=d[d.length-1]}else{d=""}return d};c.initGET=function(){window.currentURL=window.location.protocol+"//"+window.location.host+window.location.pathname;window.currentDir=window.currentURL.substring(0,window.currentURL.lastIndexOf("/"));function d(e){e=e.split("+").join(" ");var h={},g,f=/[?&]?([^=]+)=([^&]*)/g;while(g=f.exec(e)){h[decodeURIComponent(g[1])]=decodeURIComponent(g[2])}return h}window.GET=d(document.location.search)};c.getAJAX=function(d,e){d.version=b.version;a.get(b.ajaxurl,d,e)};c.htmlToElements=function(d){return a.parseHTML(d,document,true)};c.postAJAX=function(d,e){d.version=b.version;a.post(b.ajaxurl,d,e)};c.reload=function(){var d="?";for(var e in window.GET){d+=e+"="+window.GET[e]+"&"}window.location=window.currentURL+d};c.escape=function(d){if(typeof encodeURIComponent=="function"){return encodeURIComponent(d)}else{if(typeof escape!="function"){return escape(d)}else{return d}}};c.log=function(d){if(typeof console!="undefined"&&b.debug){console.log(d)}};c.decode_html=function(d){return String(d).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};c.encode_html=function(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};c.getReadableColor=function(g,f){f=a.extend({amount:0.5,xMulti:1,yMulti:1.5,normalizeHue:[20,180],normalizeHueXMulti:1/2.5,normalizeHueYMulti:1},f);var d=tinycolor(g);var e=d.toHsv();var i={x:e.s,y:1-e.v};i.x*=f.xMulti;i.y*=f.yMulti;if(f.normalizeHue&&e.h>f.normalizeHue[0]&&e.h<f.normalizeHue[1]){i.x*=f.normalizeHueXMulti;i.y*=f.normalizeHueYMulti}var h=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));if(h<f.amount){e.v=0}else{e.v=1}e.s=0;return tinycolor(e).toHexString()};c.removeChars=function(e,f){var d=new RegExp("["+e+"]","gmi");return f.replace(d,"")}};a(document).ready(function(){CrayonUtil.init()});a.fn.bindFirst=function(c,e){this.bind(c,e);var b=this.data("events")[c.split(".")[0]];var d=b.pop();b.splice(0,0,d)};a.keys=function(d){var c=[];for(var b in d){c.push(b)}return c};RegExp.prototype.execAll=function(c){var f=[];var b=null;while((b=this.exec(c))!=null){var e=[];for(var d in b){if(parseInt(d)==d){e.push(b[d])}}f.push(e)}return f};RegExp.prototype.escape=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};String.prototype.sliceReplace=function(d,b,c){return this.substring(0,d)+c+this.substring(b)};String.prototype.escape=function(){var b={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(c){return b[c]||c})};String.prototype.linkify=function(b){b=typeof b!="undefined"?b:"";return this.replace(/(http(s)?:\/\/(\S)+)/gmi,'<a href="$1" target="'+b+'">$1</a>')};String.prototype.toTitleCase=function(){var b=this.split(/\s+/);var c="";a.each(b,function(e,d){if(d!=""){c+=d.slice(0,1).toUpperCase()+d.slice(1,d.length);if(e!=b.length-1&&b[e+1]!=""){c+=" "}}});return c}})(jQueryCrayon);jqueryPopup=Object();jqueryPopup.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0,data:null,event:"click"};(function(a){popupWindow=function(d,c,f,b){f=typeof f!=="undefined"?f:null;b=typeof b!=="undefined"?b:null;if(typeof d=="string"){d=jQuery(d)}if(!(d instanceof jQuery)){return false}var e=jQuery.extend({},jqueryPopup.defaultSettings,c||{});d.handler=jQuery(d).bind(e.event,function(){if(f){f()}var g="height="+e.height+",width="+e.width+",toolbar="+e.toolbar+",scrollbars="+e.scrollbars+",status="+e.status+",resizable="+e.resizable+",location="+e.location+",menuBar="+e.menubar;e.windowName=e.windowName||jQuery(this).attr("name");var h=jQuery(this).attr("href");if(!e.windowURL&&!(h=="#")&&!(h=="")){e.windowURL=jQuery(this).attr("href")}var i,j;var k=null;if(e.centerBrowser){if(typeof window.screenY=="undefined"){i=(window.screenTop-120)+((((document.documentElement.clientHeight+120)/2)-(e.height/2)));j=window.screenLeft+((((document.body.offsetWidth+20)/2)-(e.width/2)))}else{i=window.screenY+(((window.outerHeight/2)-(e.height/2)));j=window.screenX+(((window.outerWidth/2)-(e.width/2)))}k=window.open(e.windowURL,e.windowName,g+",left="+j+",top="+i)}else{if(e.centerScreen){i=(screen.height-e.height)/2;j=(screen.width-e.width)/2;k=window.open(e.windowURL,e.windowName,g+",left="+j+",top="+i)}else{k=window.open(e.windowURL,e.windowName,g+",left="+e.left+",top="+e.top)}}if(k!=null){k.focus();if(e.data){k.document.write(e.data)}}if(b){b()}});return e};popdownWindow=function(b,c){if(typeof c=="undefined"){c="click"}b=jQuery(b);if(!(b instanceof jQuery)){return false}b.unbind(c,b.handler)}})(jQueryCrayon);(function(i){var c=wp.element.createElement,m=wp.blocks.registerBlockType,h={};m("urvanov-syntax-highlighter/code-block",{title:"Crayon",icon:"universal-access-alt",category:"layout",attributes:{content:{type:"string",source:"html",selector:"div"}},edit:function(D){var E=D.attributes.content;function F(G){D.setAttributes({content:G})}return c(wp.element.Fragment,null,c(wp.editor.BlockControls,null,c(wp.components.Toolbar,null,c(wp.components.IconButton,{icon:"editor-code",title:"Crayon",onClick:function(){window.CrayonTagEditor.showDialog({update:function(G){},input:"decode",output:"encode",node:E?CrayonUtil.htmlToElements(E)[0]:null,insert:function(G){F(G)}})}},"Crayon"))),c("div",{style:h,dangerouslySetInnerHTML:{__html:D.attributes.content}}))},save:function(D){var E=D.attributes.content;return c("div",{dangerouslySetInnerHTML:{__html:E}})}});i.fn.exists=function(){return this.length!==0};i.fn.style=function(E,H,D){var G=this.get(0);if(typeof G=="undefined"){return}var F=G.style;if(typeof E!="undefined"){if(typeof H!="undefined"){D=typeof D!="undefined"?D:"";if(typeof F.setProperty!="undefined"){F.setProperty(E,H,D)}else{F[E]=H}}else{return F[E]}}else{return F}};var e="crayon-pressed";var a="";var q="div.crayon-syntax";var f=".crayon-toolbar";var d=".crayon-info";var z=".crayon-plain";var r=".crayon-main";var p=".crayon-table";var y=".crayon-loading";var j=".crayon-code";var s=".crayon-title";var o=".crayon-tools";var b=".crayon-nums";var l=".crayon-num";var t=".crayon-line";var g="crayon-wrapped";var v=".crayon-nums-content";var x=".crayon-nums-button";var n=".crayon-wrap-button";var k=".crayon-expand-button";var w="crayon-expanded crayon-toolbar-visible";var B="crayon-placeholder";var A=".crayon-popup-button";var u=".crayon-copy-button";var C=".crayon-plain-button";CrayonSyntax=new function(){var L=this;var Q=new Object();var aj;var K;var J=0;var ac;L.init=function(){if(typeof Q=="undefined"){Q=new Object()}aj=CrayonSyntaxSettings;K=CrayonSyntaxStrings;i(q).each(function(){L.process(this)})};L.process=function(aG,aH){aG=i(aG);var av=aG.attr("id");if(av=="crayon-"){av+=aa()}aG.attr("id",av);CrayonUtil.log(av);if(typeof aH=="undefined"){aH=false}if(!aH&&!ad(av)){return}var ax=aG.find(f);var aF=aG.find(d);var at=aG.find(z);var au=aG.find(r);var aE=aG.find(p);var am=aG.find(j);var aJ=aG.find(s);var aD=aG.find(o);var aB=aG.find(b);var ay=aG.find(v);var aC=aG.find(x);var ap=aG.find(n);var ar=aG.find(k);var aI=aG.find(A);var aw=aG.find(u);var ao=aG.find(C);Q[av]=aG;Q[av].toolbar=ax;Q[av].plain=at;Q[av].info=aF;Q[av].main=au;Q[av].table=aE;Q[av].code=am;Q[av].title=aJ;Q[av].tools=aD;Q[av].nums=aB;Q[av].nums_content=ay;Q[av].numsButton=aC;Q[av].wrapButton=ap;Q[av].expandButton=ar;Q[av].popup_button=aI;Q[av].copy_button=aw;Q[av].plainButton=ao;Q[av].numsVisible=true;Q[av].wrapped=false;Q[av].plainVisible=false;Q[av].toolbar_delay=0;Q[av].time=1;i(z).css("z-index",0);var az=au.style();Q[av].mainStyle={height:az&&az.height||"","max-height":az&&az.maxHeight||"","min-height":az&&az.minHeight||"",width:az&&az.width||"","max-width":az&&az.maxWidth||"","min-width":az&&az.minWidth||""};Q[av].mainHeightAuto=Q[av].mainStyle.height==""&&Q[av].mainStyle["max-height"]=="";var an;var aA=0;Q[av].loading=true;Q[av].scrollBlockFix=false;aC.click(function(){CrayonSyntax.toggleNums(av)});ap.click(function(){CrayonSyntax.toggleWrap(av)});ar.click(function(){CrayonSyntax.toggleExpand(av)});ao.click(function(){CrayonSyntax.togglePlain(av)});aw.click(function(){CrayonSyntax.copyPlain(av)});E(av);var aq=function(){if(aB.filter('[data-settings~="hide"]').length!=0){ay.ready(function(){CrayonUtil.log("function"+av);CrayonSyntax.toggleNums(av,true,true)})}else{af(av)}if(typeof Q[av].expanded=="undefined"){if(Math.abs(Q[av].main.outerWidth()-Q[av].table.outerWidth())<10){Q[av].expandButton.hide()}else{Q[av].expandButton.show()}}if(aA==5){clearInterval(an);Q[av].loading=false}aA++};an=setInterval(aq,300);F(av);i(l,Q[av]).each(function(){var aM=i(this).attr("data-line");var aL=i("#"+aM);var aK=aL.style("height");if(aK){aL.attr("data-height",aK)}});au.css("position","relative");au.css("z-index",1);ac=(aG.filter('[data-settings~="touchscreen"]').length!=0);if(!ac){au.click(function(){D(av,"",false)});at.click(function(){D(av,"",false)});aF.click(function(){D(av,"",false)})}if(aG.filter('[data-settings~="no-popup"]').length==0){Q[av].popup_settings=popupWindow(aI,{height:screen.height-200,width:screen.width-100,top:75,left:50,scrollbars:1,windowURL:"",data:""},function(){I(av)},function(){})}at.css("opacity",0);Q[av].toolbarVisible=true;Q[av].hasOneLine=aE.outerHeight()<ax.outerHeight()*2;Q[av].toolbarMouseover=false;if(ax.filter('[data-settings~="mouseover"]').length!=0&&!ac){Q[av].toolbarMouseover=true;Q[av].toolbarVisible=false;ax.css("margin-top","-"+ax.outerHeight()+"px");ax.hide();if(ax.filter('[data-settings~="overlay"]').length!=0&&!Q[av].hasOneLine){ax.css("position","absolute");ax.css("z-index",2);if(ax.filter('[data-settings~="hide"]').length!=0){au.click(function(){W(av,undefined,undefined,0)});at.click(function(){W(av,false,undefined,0)})}}else{ax.css("z-index",4)}if(ax.filter('[data-settings~="delay"]').length!=0){Q[av].toolbar_delay=500}aG.mouseenter(function(){W(av,true)}).mouseleave(function(){W(av,false)})}else{if(ac){ax.show()}}if(aG.filter('[data-settings~="minimize"]').length==0){L.minimize(av)}if(at.length!=0&&!ac){if(at.filter('[data-settings~="dblclick"]').length!=0){au.dblclick(function(){CrayonSyntax.togglePlain(av)})}else{if(at.filter('[data-settings~="click"]').length!=0){au.click(function(){CrayonSyntax.togglePlain(av)})}else{if(at.filter('[data-settings~="mouseover"]').length!=0){aG.mouseenter(function(){CrayonSyntax.togglePlain(av,true)}).mouseleave(function(){CrayonSyntax.togglePlain(av,false)});aC.hide()}}}if(at.filter('[data-settings~="show-plain-default"]').length!=0){CrayonSyntax.togglePlain(av,true)}}var al=aG.filter('[data-settings~="expand"]').length!=0;if(!ac&&aG.filter('[data-settings~="scroll-mouseover"]').length!=0){au.css("overflow","hidden");at.css("overflow","hidden");aG.mouseenter(function(){P(av,true,al)}).mouseleave(function(){P(av,false,al)})}if(al){aG.mouseenter(function(){G(av,true)}).mouseleave(function(){G(av,false)})}if(aG.filter('[data-settings~="disable-anim"]').length!=0){Q[av].time=0}if(aG.filter('[data-settings~="wrap"]').length!=0){Q[av].wrapped=true}Q[av].mac=aG.hasClass("crayon-os-mac");af(av);ae(av);ab(av)};var ad=function(al){CrayonUtil.log(Q);if(typeof Q[al]=="undefined"){Q[al]=i("#"+al);CrayonUtil.log("make "+al);return true}CrayonUtil.log("no make "+al);return false};var aa=function(){return J++};var I=function(al){if(typeof Q[al]=="undefined"){return ad(al)}var am=Q[al].popup_settings;if(am&&am.data){return}var ao=Q[al].clone(true);ao.removeClass("crayon-wrapped");if(Q[al].wrapped){i(l,ao).each(function(){var ar=i(this).attr("data-line");var aq=i("#"+ar);var ap=aq.attr("data-height");ap=ap?ap:"";if(typeof ap!="undefined"){aq.css("height",ap);i(this).css("height",ap)}})}ao.find(r).css("height","");var an="";if(Q[al].plainVisible){an=ao.find(z)}else{an=ao.find(r)}am.data=L.getAllCSS()+'<body class="crayon-popup-window" style="padding:0; margin:0;"><div class="'+ao.attr("class")+' crayon-popup">'+L.removeCssInline(L.getHtmlString(an))+"</div></body>"};L.minimize=function(ao){var an=i('<div class="crayon-minimize crayon-button"><div>');Q[ao].tools.append(an);Q[ao].origTitle=Q[ao].title.html();if(!Q[ao].origTitle){Q[ao].title.html(K.minimize)}var am="crayon-minimized";var al=function(){Q[ao].toolbarPreventHide=false;an.remove();Q[ao].removeClass(am);Q[ao].title.html(Q[ao].origTitle);var ap=Q[ao].toolbar;if(ap.filter('[data-settings~="never-show"]').length!=0){ap.remove()}};Q[ao].toolbar.click(al);an.click(al);Q[ao].addClass(am);Q[ao].toolbarPreventHide=true;W(ao,undefined,undefined,0)};L.getHtmlString=function(al){return i("<div>").append(al.clone()).remove().html()};L.removeCssInline=function(an){var am=/style\s*=\s*"([^"]+)"/gmi;var al=null;while((al=am.exec(an))!=null){var ao=al[1];ao=ao.replace(/\b(?:width|height)\s*:[^;]+;/gmi,"");an=an.sliceReplace(al.index,al.index+al[0].length,'style="'+ao+'"')}return an};L.getAllCSS=function(){var an="";var am=i('link[rel="stylesheet"]');var al=[];if(am.length==1){al=am}else{al=am.filter('[href*="crayon-syntax-highlighter"], [href*="min/"]')}al.each(function(){var ao=L.getHtmlString(i(this));an+=ao});return an};L.copyPlain=function(an,ao){if(typeof Q[an]=="undefined"){return ad(an)}var am=Q[an].plain;L.togglePlain(an,true,true);W(an,true);var al=Q[an].mac?"\u2318":"CTRL";var ap=K.copy;ap=ap.replace(/%s/,al+"+C");ap=ap.replace(/%s/,al+"+V");D(an,ap);return false};var D=function(am,ao,al){if(typeof Q[am]=="undefined"){return ad(am)}var an=Q[am].info;if(typeof ao=="undefined"){ao=""}if(typeof al=="undefined"){al=true}if(O(an)&&al){an.html("<div>"+ao+"</div>");an.css("margin-top",-an.outerHeight());an.show();T(am,an,true);setTimeout(function(){T(am,an,false)},5000)}if(!al){T(am,an,false)}};var E=function(al){if(window.devicePixelRatio>1){var am=i(".crayon-button-icon",Q[al].toolbar);am.each(function(){var ao=i(this).css("background-image");var an=ao.replace(/\.(?=[^\.]+$)/g,"@2x.");i(this).css("background-size","48px 128px");i(this).css("background-image",an)})}};var O=function(al){var am="-"+al.outerHeight()+"px";if(al.css("margin-top")==am||al.css("display")=="none"){return true}else{return false}};var T=function(ao,an,am,aq,ap,at){var al=function(){if(at){at(ao,an)}};var ar="-"+an.outerHeight()+"px";if(typeof am=="undefined"){if(O(an)){am=true}else{am=false}}if(typeof aq=="undefined"){aq=100}if(aq==false){aq=false}if(typeof ap=="undefined"){ap=0}an.stop(true);if(am==true){an.show();an.animate({marginTop:0},ak(aq,ao),al)}else{if(am==false){if(an.css("margin-top")=="0px"&&ap){an.delay(ap)}an.animate({marginTop:ar},ak(aq,ao),function(){an.hide();al()})}}};L.togglePlain=function(ao,ap,am){if(typeof Q[ao]=="undefined"){return ad(ao)}var al=Q[ao].main;var an=Q[ao].plain;if((al.is(":animated")||an.is(":animated"))&&typeof ap=="undefined"){return}ah(ao);var ar,aq;if(typeof ap!="undefined"){if(ap){ar=al;aq=an}else{ar=an;aq=al}}else{if(al.css("z-index")==1){ar=al;aq=an}else{ar=an;aq=al}}Q[ao].plainVisible=(aq==an);Q[ao].top=ar.scrollTop();Q[ao].left=ar.scrollLeft();Q[ao].scrollChanged=false;F(ao);ar.stop(true);ar.fadeTo(ak(500,ao),0,function(){ar.css("z-index",0)});aq.stop(true);aq.fadeTo(ak(500,ao),1,function(){aq.css("z-index",1);if(aq==an){if(am){an.select()}else{}}aq.scrollTop(Q[ao].top+1);aq.scrollTop(Q[ao].top);aq.scrollLeft(Q[ao].left+1);aq.scrollLeft(Q[ao].left)});aq.scrollTop(Q[ao].top);aq.scrollLeft(Q[ao].left);ae(ao);W(ao,false);return false};L.toggleNums=function(ap,ao,al){if(typeof Q[ap]=="undefined"){ad(ap);return false}if(Q[ap].table.is(":animated")){return false}var ar=Math.round(Q[ap].nums_content.outerWidth()+1);var aq="-"+ar+"px";var an;if(typeof ao!="undefined"){an=false}else{an=(Q[ap].table.css("margin-left")==aq)}var am;if(an){am="0px";Q[ap].numsVisible=true}else{Q[ap].table.css("margin-left","0px");Q[ap].numsVisible=false;am=aq}if(typeof al!="undefined"){Q[ap].table.css("margin-left",am);af(ap);return false}var at=(Q[ap].table.outerWidth()+M(Q[ap].table.css("margin-left"))>Q[ap].main.outerWidth());var au=(Q[ap].table.outerHeight()>Q[ap].main.outerHeight());if(!at&&!au){Q[ap].main.css("overflow","hidden")}Q[ap].table.animate({marginLeft:am},ak(200,ap),function(){if(typeof Q[ap]!="undefined"){af(ap);if(!at&&!au){Q[ap].main.css("overflow","auto")}}});return false};L.toggleWrap=function(al){Q[al].wrapped=!Q[al].wrapped;ab(al)};L.toggleExpand=function(al){var am=!CrayonUtil.setDefault(Q[al].expanded,false);G(al,am)};var ab=function(al,am){am=CrayonUtil.setDefault(am,true);if(Q[al].wrapped){Q[al].addClass(g)}else{Q[al].removeClass(g)}H(al);if(!Q[al].expanded&&am){Y(al)}Q[al].wrapTimes=0;clearInterval(Q[al].wrapTimer);Q[al].wrapTimer=setInterval(function(){if(Q[al].is(":visible")){R(al);Q[al].wrapTimes++;if(Q[al].wrapTimes==5){clearInterval(Q[al].wrapTimer)}}},200)};var ag=function(al){if(typeof Q[al]=="undefined"){ad(al);return false}};var M=function(am){if(typeof am!="string"){return 0}var al=am.replace(/[^-0-9]/g,"");if(al.length==0){return 0}else{return parseInt(al)}};var af=function(al){if(typeof Q[al]=="undefined"||typeof Q[al].numsVisible=="undefined"){return}if(Q[al].numsVisible){Q[al].numsButton.removeClass(a);Q[al].numsButton.addClass(e)}else{Q[al].numsButton.removeClass(e);Q[al].numsButton.addClass(a)}};var H=function(al){if(typeof Q[al]=="undefined"||typeof Q[al].wrapped=="undefined"){return}if(Q[al].wrapped){Q[al].wrapButton.removeClass(a);Q[al].wrapButton.addClass(e)}else{Q[al].wrapButton.removeClass(e);Q[al].wrapButton.addClass(a)}};var Z=function(al){if(typeof Q[al]=="undefined"||typeof Q[al].expanded=="undefined"){return}if(Q[al].expanded){Q[al].expandButton.removeClass(a);Q[al].expandButton.addClass(e)}else{Q[al].expandButton.removeClass(e);Q[al].expandButton.addClass(a)}};var ae=function(al){if(typeof Q[al]=="undefined"||typeof Q[al].plainVisible=="undefined"){return}if(Q[al].plainVisible){Q[al].plainButton.removeClass(a);Q[al].plainButton.addClass(e)}else{Q[al].plainButton.removeClass(e);Q[al].plainButton.addClass(a)}};var W=function(am,al,ao,an){if(typeof Q[am]=="undefined"){return ad(am)}else{if(!Q[am].toolbarMouseover){return}else{if(al==false&&Q[am].toolbarPreventHide){return}else{if(ac){return}}}}var ap=Q[am].toolbar;if(typeof an=="undefined"){an=Q[am].toolbar_delay}T(am,ap,al,ao,an,function(){Q[am].toolbarVisible=al})};var U=function(an,al){var am=i.extend({},an);am.width+=al.width;am.height+=al.height;return am};var S=function(an,al){var am=i.extend({},an);am.width-=al.width;am.height-=al.height;return am};var X=function(al){if(typeof Q[al].initialSize=="undefined"){Q[al].toolbarHeight=Q[al].toolbar.outerHeight();Q[al].innerSize={width:Q[al].width(),height:Q[al].height()};Q[al].outerSize={width:Q[al].outerWidth(),height:Q[al].outerHeight()};Q[al].borderSize=S(Q[al].outerSize,Q[al].innerSize);Q[al].initialSize={width:Q[al].main.outerWidth(),height:Q[al].main.outerHeight()};Q[al].initialSize.height+=Q[al].toolbarHeight;Q[al].initialOuterSize=U(Q[al].initialSize,Q[al].borderSize);Q[al].finalSize={width:Q[al].table.outerWidth(),height:Q[al].table.outerHeight()};Q[al].finalSize.height+=Q[al].toolbarHeight;Q[al].finalSize.width=CrayonUtil.setMin(Q[al].finalSize.width,Q[al].initialSize.width);Q[al].finalSize.height=CrayonUtil.setMin(Q[al].finalSize.height,Q[al].initialSize.height);Q[al].diffSize=S(Q[al].finalSize,Q[al].initialSize);Q[al].finalOuterSize=U(Q[al].finalSize,Q[al].borderSize);Q[al].initialSize.height+=Q[al].toolbar.outerHeight()}};var G=function(ao,ar){if(typeof Q[ao]=="undefined"){return ad(ao)}if(typeof ar=="undefined"){return}var am=Q[ao].main;var au=Q[ao].plain;if(ar){if(typeof Q[ao].expanded=="undefined"){X(ao);Q[ao].expandTime=CrayonUtil.setRange(Q[ao].diffSize.width/3,300,800);Q[ao].expanded=false;var at=Q[ao].finalOuterSize;Q[ao].placeholder=i("<div></div>");Q[ao].placeholder.addClass(B);Q[ao].placeholder.css(at);Q[ao].before(Q[ao].placeholder);Q[ao].placeholder.css("margin",Q[ao].css("margin"));i(window).bind("resize",N)}var ap={height:"auto","min-height":"none","max-height":"none"};var al={width:"auto","min-width":"none","max-width":"none"};Q[ao].outerWidth(Q[ao].outerWidth());Q[ao].css({"min-width":"none","max-width":"none"});var aq={width:Q[ao].finalOuterSize.width};if(!Q[ao].mainHeightAuto&&!Q[ao].hasOneLine){aq.height=Q[ao].finalOuterSize.height;Q[ao].outerHeight(Q[ao].outerHeight())}am.css(ap);am.css(al);Q[ao].stop(true);Q[ao].animate(aq,ak(Q[ao].expandTime,ao),function(){Q[ao].expanded=true;Z(ao)});Q[ao].placeholder.show();i("body").prepend(Q[ao]);Q[ao].addClass(w);N()}else{var av=Q[ao].initialOuterSize;var an=Q[ao].toolbar_delay;if(av){Q[ao].stop(true);if(!Q[ao].expanded){Q[ao].delay(an)}var aq={width:av.width};if(!Q[ao].mainHeightAuto&&!Q[ao].hasOneLine){aq.height=av.height}Q[ao].animate(aq,ak(Q[ao].expandTime,ao),function(){ai(ao)})}else{setTimeout(function(){ai(ao)},an)}Q[ao].placeholder.hide();Q[ao].placeholder.before(Q[ao]);Q[ao].css({left:"auto",top:"auto"});Q[ao].removeClass(w)}ah(ao);if(ar){ab(ao,false)}};var N=function(){for(uid in Q){if(Q[uid].hasClass(w)){Q[uid].css(Q[uid].placeholder.offset())}}};var ai=function(al){Q[al].expanded=false;Y(al);Z(al);if(Q[al].wrapped){ab(al)}};var P=function(ao,am,ap){if(typeof Q[ao]=="undefined"){return ad(ao)}if(typeof am=="undefined"||ap||Q[ao].expanded){return}var al=Q[ao].main;var an=Q[ao].plain;if(am){al.css("overflow","auto");an.css("overflow","auto");if(typeof Q[ao].top!="undefined"){visible=(al.css("z-index")==1?al:an);visible.scrollTop(Q[ao].top-1);visible.scrollTop(Q[ao].top);visible.scrollLeft(Q[ao].left-1);visible.scrollLeft(Q[ao].left)}}else{visible=(al.css("z-index")==1?al:an);Q[ao].top=visible.scrollTop();Q[ao].left=visible.scrollLeft();al.css("overflow","hidden");an.css("overflow","hidden")}Q[ao].scrollChanged=true;F(ao)};var F=function(al){Q[al].table.style("width","100%","important");var am=setTimeout(function(){Q[al].table.style("width","");clearInterval(am)},10)};var Y=function(an){var am=Q[an].main;var al=Q[an].mainStyle;am.css(al);Q[an].css("height","auto");Q[an].css("width",al.width);Q[an].css("max-width",al["max-width"]);Q[an].css("min-width",al["min-width"])};var ah=function(al){Q[al].plain.outerHeight(Q[al].main.outerHeight())};var R=function(al){i(l,Q[al]).each(function(){var ao=i(this).attr("data-line");var an=i("#"+ao);var am=null;if(Q[al].wrapped){an.css("height","");am=an.outerHeight();am=am?am:""}else{am=an.attr("data-height");am=am?am:"";an.css("height",am)}i(this).css("height",am)})};var ak=function(al,am){if(al=="fast"){al=200}else{if(al=="slow"){al=600}else{if(!V(al)){al=parseInt(al);if(isNaN(al)){return 0}}}}return al*Q[am].time};var V=function(al){return typeof al=="number"}};i(document).ready(function(){CrayonSyntax.init()})})(jQueryCrayon);(function(b){var a=CrayonTagEditorSettings;window.CrayonQuickTags=new function(){var c=this;c.init=function(){c.sel='*[id*="crayon_quicktag"],*[class*="crayon_quicktag"]';var e=a.quicktag_text;e=e!==undefined?e:"crayon";QTags.addButton("crayon_quicktag",e,function(){CrayonTagEditor.showDialog({insert:function(g){QTags.insertContent(g)},select:c.getSelectedText,editor_str:"html",output:"encode"});b(c.sel).removeClass("qt_crayon_highlight")});var d;var f=setInterval(function(){d=b(c.sel).first();if(typeof d!="undefined"){CrayonTagEditor.bind(c.sel);clearInterval(f)}},100)};c.getSelectedText=function(){if(QTags.instances.length==0){return null}else{var f=QTags.instances[0];var e=f.canvas.selectionStart;var d=f.canvas.selectionEnd;return f.canvas.value.substring(e,d)}}};b(document).ready(function(){CrayonQuickTags.init()})})(jQueryCrayon);
/*!
 Colorbox v1.5.9 - 2014-04-25
 jQuery lightbox and modal window plugin
 (c) 2014 Jack Moore - http://www.jacklmoore.com/colorbox
 license: http://www.opensource.org/licenses/mit-license.php
 */
(function(aT,a8,a4){function aZ(a,d,c){var b=a8.createElement(a);return d&&(b.id=ab+d),c&&(b.style.cssText=c),aT(b)}function aY(){return a4.innerHeight?a4.innerHeight:aT(a4).height()}function aV(b,a){a!==Object(a)&&(a={}),this.cache={},this.el=b,this.value=function(c){var d;return void 0===this.cache[c]&&(d=aT(this.el).attr("data-cbox-"+c),void 0!==d?this.cache[c]=d:void 0!==a[c]?this.cache[c]=a[c]:void 0!==ad[c]&&(this.cache[c]=ad[c])),this.cache[c]},this.get=function(d){var c=this.value(d);return aT.isFunction(c)?c.call(this.el,this):c}}function a5(b){var c=ag.length,a=(aM+b)%c;return 0>a?c+a:a}function bd(a,b){return Math.round((/%/.test(a)?("x"===b?az.width():aY())/100:1)*parseInt(a,10))}function aU(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function a1(a,b){return a.get("retinaUrl")&&a4.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function a9(a){"contains" in aP[0]&&!aP[0].contains(a.target)&&a.target!==aR[0]&&(a.stopPropagation(),aP.focus())}function ba(a){ba.str!==a&&(aP.add(aR).removeClass(ba.str).addClass(a),ba.str=a)}function a6(a){aM=0,a&&a!==!1?(ag=aT("."+af).filter(function(){var b=aT.data(this,ac),c=new aV(this,b);return c.get("rel")===a}),aM=ag.index(bf.el),-1===aM&&(ag=ag.add(bf.el),aM=ag.length-1)):ag=aT(bf.el)}function aS(a){aT(a8).trigger(a),aA.triggerHandler(a)}function a7(b){var g;if(!ax){if(g=aT(b).data("colorbox"),bf=new aV(b,g),a6(bf.get("rel")),!aH){aH=aW=!0,ba(bf.get("className")),aP.css({visibility:"hidden",display:"block",opacity:""}),ar=aZ(aG,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),bb.css({width:"",height:""}).append(ar),aB=aj.height()+a2.height()+bb.outerHeight(!0)-bb.height(),a3=aC.width()+aw.width()+bb.outerWidth(!0)-bb.width(),aF=ar.outerHeight(!0),ap=ar.outerWidth(!0);var d=bd(bf.get("initialWidth"),"x"),c=bd(bf.get("initialHeight"),"y"),a=bf.get("maxWidth"),e=bf.get("maxHeight");bf.w=(a!==!1?Math.min(d,bd(a,"x")):d)-ap-a3,bf.h=(e!==!1?Math.min(c,bd(e,"y")):c)-aF-aB,ar.css({width:"",height:bf.h}),au.position(),aS(bc),bf.get("onOpen"),ao.add(av).hide(),aP.focus(),bf.get("trapFocus")&&a8.addEventListener&&(a8.addEventListener("focus",a9,!0),aA.one(aO,function(){a8.removeEventListener("focus",a9,!0)})),bf.get("returnFocus")&&aA.one(aO,function(){aT(bf.el).focus()})}aR.css({opacity:parseFloat(bf.get("opacity"))||"",cursor:bf.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),bf.get("closeButton")?aE.html(bf.get("close")).appendTo(bb):aE.appendTo("<div/>"),aQ()}}function aX(){!aP&&a8.body&&(ah=!1,az=aT(a4),aP=aZ(aG).attr({id:ac,"class":aT.support.opacity===!1?ab+"IE":"",role:"dialog",tabindex:"-1"}).hide(),aR=aZ(aG,"Overlay").hide(),ak=aT([aZ(aG,"LoadingOverlay")[0],aZ(aG,"LoadingGraphic")[0]]),aN=aZ(aG,"Wrapper"),bb=aZ(aG,"Content").append(av=aZ(aG,"Title"),al=aZ(aG,"Current"),an=aT('<button type="button"/>').attr({id:ab+"Previous"}),at=aT('<button type="button"/>').attr({id:ab+"Next"}),ay=aZ("button","Slideshow"),ak),aE=aT('<button type="button"/>').attr({id:ab+"Close"}),aN.append(aZ(aG).append(aZ(aG,"TopLeft"),aj=aZ(aG,"TopCenter"),aZ(aG,"TopRight")),aZ(aG,!1,"clear:left").append(aC=aZ(aG,"MiddleLeft"),bb,aw=aZ(aG,"MiddleRight")),aZ(aG,!1,"clear:left").append(aZ(aG,"BottomLeft"),a2=aZ(aG,"BottomCenter"),aZ(aG,"BottomRight"))).find("div div").css({"float":"left"}),aq=aZ(aG,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ao=at.add(an).add(al).add(ay),aT(a8.body).append(aR,aP.append(aN,aq)))}function a0(){function a(b){b.which>1||b.shiftKey||b.altKey||b.metaKey||b.ctrlKey||(b.preventDefault(),a7(this))}return aP?(ah||(ah=!0,at.click(function(){au.next()}),an.click(function(){au.prev()}),aE.click(function(){au.close()}),aR.click(function(){bf.get("overlayClose")&&au.close()}),aT(a8).bind("keydown."+ab,function(b){var c=b.keyCode;aH&&bf.get("escKey")&&27===c&&(b.preventDefault(),au.close()),aH&&bf.get("arrowKey")&&ag[1]&&!b.altKey&&(37===c?(b.preventDefault(),an.click()):39===c&&(b.preventDefault(),at.click()))}),aT.isFunction(aT.fn.on)?aT(a8).on("click."+ab,"."+af,a):aT("."+af).live("click."+ab,a)),!0):!1}function aQ(){var f,i,b,a=au.prep,g=++aK;if(aW=!0,ai=!1,aS(be),aS(aJ),bf.get("onLoad"),bf.h=bf.get("height")?bd(bf.get("height"),"y")-aF-aB:bf.get("innerHeight")&&bd(bf.get("innerHeight"),"y"),bf.w=bf.get("width")?bd(bf.get("width"),"x")-ap-a3:bf.get("innerWidth")&&bd(bf.get("innerWidth"),"x"),bf.mw=bf.w,bf.mh=bf.h,bf.get("maxWidth")&&(bf.mw=bd(bf.get("maxWidth"),"x")-ap-a3,bf.mw=bf.w&&bf.w<bf.mw?bf.w:bf.mw),bf.get("maxHeight")&&(bf.mh=bd(bf.get("maxHeight"),"y")-aF-aB,bf.mh=bf.h&&bf.h<bf.mh?bf.h:bf.mh),f=bf.get("href"),am=setTimeout(function(){ak.show()},100),bf.get("inline")){var j=aT(f);b=aT("<div>").hide().insertBefore(j),aA.one(be,function(){b.replaceWith(j)}),a(j)}else{bf.get("iframe")?a(" "):bf.get("html")?a(bf.get("html")):aU(bf,f)?(f=a1(bf,f),ai=new Image,aT(ai).addClass(ab+"Photo").bind("error",function(){a(aZ(aG,"Error").html(bf.get("imgError")))}).one("load",function(){g===aK&&setTimeout(function(){var c;aT.each(["alt","longdesc","aria-describedby"],function(h,d){var k=aT(bf.el).attr(d)||aT(bf.el).attr("data-"+d);k&&ai.setAttribute(d,k)}),bf.get("retinaImage")&&a4.devicePixelRatio>1&&(ai.height=ai.height/a4.devicePixelRatio,ai.width=ai.width/a4.devicePixelRatio),bf.get("scalePhotos")&&(i=function(){ai.height-=ai.height*c,ai.width-=ai.width*c},bf.mw&&ai.width>bf.mw&&(c=(ai.width-bf.mw)/ai.width,i()),bf.mh&&ai.height>bf.mh&&(c=(ai.height-bf.mh)/ai.height,i())),bf.h&&(ai.style.marginTop=Math.max(bf.mh-ai.height,0)/2+"px"),ag[1]&&(bf.get("loop")||ag[aM+1])&&(ai.style.cursor="pointer",ai.onclick=function(){au.next()}),ai.style.width=ai.width+"px",ai.style.height=ai.height+"px",a(ai)},1)}),ai.src=f):f&&aq.load(f,bf.get("data"),function(d,c){g===aK&&a("error"===c?aZ(aG,"Error").html(bf.get("xhrError")):aT(this).contents())})}}var aR,aP,aN,bb,aj,aC,aw,a2,ag,az,ar,aq,ak,av,al,ay,at,an,aE,ao,bf,aB,a3,aF,ap,aM,ai,aH,aW,ax,am,au,ah,ad={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:0.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return aT(this).attr("href")},title:function(){return this.title}},ac="colorbox",ab="cbox",af=ab+"Element",bc=ab+"_open",aJ=ab+"_load",aa=ab+"_complete",aL=ab+"_cleanup",aO=ab+"_closed",be=ab+"_purge",aA=aT("<a/>"),aG="div",aK=0,aD={},aI=function(){function l(){clearTimeout(g)}function j(){(bf.get("loop")||ag[aM+1])&&(l(),g=setTimeout(au.next,bf.get("slideshowSpeed")))}function f(){ay.html(bf.get("slideshowStop")).unbind(m).one(m,d),aA.bind(aa,j).bind(aJ,l),aP.removeClass(k+"off").addClass(k+"on")}function d(){l(),aA.unbind(aa,j).unbind(aJ,l),ay.html(bf.get("slideshowStart")).unbind(m).one(m,function(){au.next(),f()}),aP.removeClass(k+"on").addClass(k+"off")}function c(){b=!1,ay.hide(),l(),aA.unbind(aa,j).unbind(aJ,l),aP.removeClass(k+"off "+k+"on")}var b,g,k=ab+"Slideshow_",m="click."+ab;return function(){b?bf.get("slideshow")||(aA.unbind(aL,c),c()):bf.get("slideshow")&&ag[1]&&(b=!0,aA.one(aL,c),bf.get("slideshowAuto")?f():d(),ay.show())}}();aT.colorbox||(aT(aX),au=aT.fn[ac]=aT[ac]=function(b,a){var d,c=this;if(b=b||{},aT.isFunction(c)){c=aT("<a/>"),b.open=!0}else{if(!c[0]){return c}}return c[0]?(aX(),a0()&&(a&&(b.onComplete=a),c.each(function(){var e=aT.data(this,ac)||{};aT.data(this,ac,aT.extend(e,b))}).addClass(af),d=new aV(c[0],b),d.get("open")&&a7(c[0])),c):c},au.position=function(o,j){function b(){aj[0].style.width=a2[0].style.width=bb[0].style.width=parseInt(aP[0].style.width,10)-a3+"px",bb[0].style.height=aC[0].style.height=aw[0].style.height=parseInt(aP[0].style.height,10)-aB+"px"}var a,k,t,f=0,p=0,q=aP.offset();if(az.unbind("resize."+ab),aP.css({top:-90000,left:-90000}),k=az.scrollTop(),t=az.scrollLeft(),bf.get("fixed")?(q.top-=k,q.left-=t,aP.css({position:"fixed"})):(f=k,p=t,aP.css({position:"absolute"})),p+=bf.get("right")!==!1?Math.max(az.width()-bf.w-ap-a3-bd(bf.get("right"),"x"),0):bf.get("left")!==!1?bd(bf.get("left"),"x"):Math.round(Math.max(az.width()-bf.w-ap-a3,0)/2),f+=bf.get("bottom")!==!1?Math.max(aY()-bf.h-aF-aB-bd(bf.get("bottom"),"y"),0):bf.get("top")!==!1?bd(bf.get("top"),"y"):Math.round(Math.max(aY()-bf.h-aF-aB,0)/2),aP.css({top:q.top,left:q.left,visibility:"visible"}),aN[0].style.width=aN[0].style.height="9999px",a={width:bf.w+ap+a3,height:bf.h+aF+aB,top:f,left:p},o){var m=0;aT.each(a,function(c){return a[c]!==aD[c]?(m=o,void 0):void 0}),o=m}aD=a,o||aP.css(a),aP.dequeue().animate(a,{duration:o||0,complete:function(){b(),aW=!1,aN[0].style.width=bf.w+ap+a3+"px",aN[0].style.height=bf.h+aF+aB+"px",bf.get("reposition")&&setTimeout(function(){az.bind("resize."+ab,au.position)},1),j&&j()},step:b})},au.resize=function(a){var b;aH&&(a=a||{},a.width&&(bf.w=bd(a.width,"x")-ap-a3),a.innerWidth&&(bf.w=bd(a.innerWidth,"x")),ar.css({width:bf.w}),a.height&&(bf.h=bd(a.height,"y")-aF-aB),a.innerHeight&&(bf.h=bd(a.innerHeight,"y")),a.innerHeight||a.height||(b=ar.scrollTop(),ar.css({height:"auto"}),bf.h=ar.height()),ar.css({height:bf.h}),b&&ar.scrollTop(b),au.position("none"===bf.get("transition")?0:bf.get("speed")))},au.prep=function(c){function h(){return bf.w=bf.w||ar.width(),bf.w=bf.mw&&bf.mw<bf.w?bf.mw:bf.w,bf.w}function b(){return bf.h=bf.h||ar.height(),bf.h=bf.mh&&bf.mh<bf.h?bf.mh:bf.h,bf.h}if(aH){var f,e="none"===bf.get("transition")?0:bf.get("speed");ar.remove(),ar=aZ(aG,"LoadedContent").append(c),ar.hide().appendTo(aq.show()).css({width:h(),overflow:bf.get("scrolling")?"auto":"hidden"}).css({height:b()}).prependTo(bb),aq.hide(),aT(ai).css({"float":"none"}),ba(bf.get("className")),f=function(){function g(){aT.support.opacity===!1&&aP[0].style.removeAttribute("filter")}var k,j,d=ag.length;aH&&(j=function(){clearTimeout(am),ak.hide(),aS(aa),bf.get("onComplete")},av.html(bf.get("title")).show(),ar.show(),d>1?("string"==typeof bf.get("current")&&al.html(bf.get("current").replace("{current}",aM+1).replace("{total}",d)).show(),at[bf.get("loop")||d-1>aM?"show":"hide"]().html(bf.get("next")),an[bf.get("loop")||aM?"show":"hide"]().html(bf.get("previous")),aI(),bf.get("preloading")&&aT.each([a5(-1),a5(1)],function(){var a,p=ag[this],m=new aV(p,aT.data(p,ac)),l=m.get("href");l&&aU(m,l)&&(l=a1(m,l),a=a8.createElement("img"),a.src=l)})):ao.hide(),bf.get("iframe")?(k=a8.createElement("iframe"),"frameBorder" in k&&(k.frameBorder=0),"allowTransparency" in k&&(k.allowTransparency="true"),bf.get("scrolling")||(k.scrolling="no"),aT(k).attr({src:bf.get("href"),name:(new Date).getTime(),"class":ab+"Iframe",allowFullScreen:!0}).one("load",j).appendTo(ar),aA.one(be,function(){k.src="//about:blank"}),bf.get("fastIframe")&&aT(k).trigger("load")):j(),"fade"===bf.get("transition")?aP.fadeTo(e,1,g):g())},"fade"===bf.get("transition")?aP.fadeTo(e,0,function(){au.position(0,f)}):au.position(e,f)}},au.next=function(){!aW&&ag[1]&&(bf.get("loop")||ag[aM+1])&&(aM=a5(1),a7(ag[aM]))},au.prev=function(){!aW&&ag[1]&&(bf.get("loop")||aM)&&(aM=a5(-1),a7(ag[aM]))},au.close=function(){aH&&!ax&&(ax=!0,aH=!1,aS(aL),bf.get("onCleanup"),az.unbind("."+ab),aR.fadeTo(bf.get("fadeOut")||0,0),aP.stop().fadeTo(bf.get("fadeOut")||0,0,function(){aP.hide(),aR.hide(),aS(be),ar.remove(),setTimeout(function(){ax=!1,aS(aO),bf.get("onClosed")},1)}))},au.remove=function(){aP&&(aP.stop(),aT.colorbox.close(),aP.stop().remove(),aR.remove(),ax=!1,aP=null,aT("."+af).removeData(ac).removeClass(af),aT(a8).unbind("click."+ab))},au.element=function(){return aT(bf.el)},au.settings=ad)})(jQuery,document,window);(function(b,a){var c=function(d){return a.element.createElement(a.editor.RichTextToolbarButton,{icon:"editor-code",title:"Crayon",onClick:function(l){var k=a.richText.getActiveFormat(d.value,"urvanov-syntax-highlighter/code-inline");var j=d.value.start;var h=d.value.end;if(k){var i="urvanov-syntax-highlighter/code-inline";while(d.value.formats[j]&&d.value.formats[j].find(function(m){return m.type==i})){j--}j++;h++;while(d.value.formats[h]&&d.value.formats[h].find(function(m){return m.type==i})){h++}var g=a.richText.slice(d.value,j,h);var e=a.richText.toHTMLString({value:g});var f=CrayonUtil.htmlToElements(e)[0]}window.CrayonTagEditor.showDialog({update:function(m){},node:f,input:"decode",output:"encode",insert:function(m){d.onChange(a.richText.insert(d.value,a.richText.create({html:m}),j,h))}})},isActive:d.isActive})};a.richText.registerFormatType("urvanov-syntax-highlighter/code-inline",{title:"Crayon",tagName:"span",className:null,edit:c});window.CrayonTagEditor=new function(){var l=this;var D=false;var A=false;var g=false;var q,h,u,C,y;var E,v,k,x;var z=0;var m,t;var d=null;var i="";var F=false;var p,r,f;var B,e,w,n,j;var o={inline:true,width:690,height:"90%",closeButton:false,fixed:true,transition:"none",className:"crayon-colorbox",onOpen:function(){b(this.outer).prepend(b(p.bar_content))},onComplete:function(){b(p.code_css).focus()},onCleanup:function(){b(p.bar).prepend(b(p.bar_content))}};l.init=function(){p=CrayonTagEditorSettings;r=CrayonSyntaxSettings;f=CrayonUtil;o.href=p.content_css};l.bind=function(G){if(!D){D=true;l.init()}var s=b(G);s.each(function(I,H){var K=b(H);var J=b('<a class="crayon-tag-editor-button-wrapper"></a>').attr("href",p.content_css);K.after(J);J.append(K);J.colorbox(o)})};l.hide=function(){b.colorbox.close();return false};l.loadDialog=function(s){if(!A){A=true}else{s&&s();return}CrayonUtil.getAJAX({action:"crayon-tag-editor",is_admin:r.is_admin},function(K){B=b('<div id="'+p.css+'"></div>');B.appendTo("body").hide();B.html(K);l.setOrigValues();n=B.find(p.submit_css);j=B.find(p.cancel_css);e=b(p.code_css);w=b("#crayon-te-clear");m=function(){var L=w.is(":visible");if(e.val().length>0&&!L){w.show();e.removeClass(r.selected)}else{if(e.val().length<=0){w.hide()}}};e.keyup(m);e.change(m);w.click(function(){e.val("");e.removeClass(r.selected);e.focus()});var I=b(p.url_css);var H=b(p.url_info_css);var J=CrayonTagEditorSettings.extensions;t=function(){if(I.val().length>0&&!H.is(":visible")){H.show();I.removeClass(r.selected)}else{if(I.val().length<=0){H.hide()}}var N=CrayonUtil.getExt(I.val());if(N){var O=J[N];var M=O?O:N;var L=CrayonTagEditorSettings.fallback_lang;b(p.lang_css+" option").each(function(){if(b(this).val()==M){L=M}});b(p.lang_css).val(L)}};I.keyup(t);I.change(t);var G=function(){var N=b(this);var L=b(this).attr(r.orig_value);if(typeof L=="undefined"){L=""}var O=l.settingValue(N);CrayonUtil.log(N.attr("id")+" value: "+O);var M=null;if(N.is("input[type=checkbox]")){M=N.next("span")}CrayonUtil.log("   >>> "+N.attr("id")+" is "+L+" = "+O);if(L==O){N.removeClass(r.changed);if(M){M.removeClass(r.changed)}}else{N.addClass(r.changed);if(M){M.addClass(r.changed)}}l.settingValue(N,O)};b("."+r.setting+"[id]:not(."+r.special+")").each(function(){b(this).change(G);b(this).keyup(G)});s&&s()})};l.showDialog=function(G){var s=A;l.loadDialog(function(){b.colorbox(o);l._showDialog(G)})};l._showDialog=function(G){G=b.extend({insert:null,edit:null,show:null,hide:l.hide,select:null,editor_str:null,ed:null,node:null,input:null,output:null},G);l.resetSettings();q=G.insert;h=G.edit;u=G.show;C=G.hide;y=G.select;E=G.input;v=G.output;k=G.editor_str;var H=G.node;var H=G.node;F=false;n.unbind();n.click(function(X){l.submitButton();X.preventDefault()});l.setSubmitText(p.submit_add);j.unbind();j.click(function(X){l.hide();X.preventDefault()});if(l.isCrayon(H)){d=b(H);if(d.length!=0){i=d.attr("class");var N=new RegExp("\\b([A-Za-z-]+)"+p.attr_sep+"(\\S+)","gim");var s=N.execAll(i);i=b.trim(i.replace(N,""));var O={};for(var T in s){var L=s[T][1];var P=s[T][2];O[L]=P}var W=d.attr("title");if(W){O.title=W}var J=d.attr("data-url");if(J){O.url=J}if(typeof O.highlight!="undefined"){O.highlight="0"?"1":"0"}F=d.hasClass(p.inline_css);O.inline=F?"1":"0";var U=[];b(p.lang_css+" option").each(function(){var X=b(this).val();if(X){U.push(X)}});if(b.inArray(O.lang,U)==-1){O.lang=p.fallback_lang}O=l.validate(O);for(var Q in O){var M=b("#"+r.prefix+Q+"."+r.setting);var P=O[Q];l.settingValue(M,P);M.change();if(!M.hasClass(r.special)){M.addClass(r.changed);if(M.is("input[type=checkbox]")){highlight=M.next("span");highlight.addClass(r.changed)}}CrayonUtil.log("loaded: "+Q+":"+P)}g=true;l.setSubmitText(p.submit_edit);var S=d.html();if(E=="encode"){S=CrayonUtil.encode_html(S)}else{if(E=="decode"){S=CrayonUtil.decode_html(S)}}e.val(S)}else{CrayonUtil.log("cannot load currNode of type pre")}}else{if(y){e.val(y)}g=false;l.setSubmitText(p.submit_add);d=null;i=""}var I=b("#"+p.inline_css);I.change(function(){F=b(this).is(":checked");var X=b("."+p.inline_hide_css);var ab=b("."+p.inline_hide_only_css);var Z=[p.mark_css,p.range_css,p.title_css,p.url_css];for(var Y in Z){var aa=b(Z[Y]);aa.attr("disabled",F)}if(F){X.hide();ab.hide();X.closest("tr").hide();for(var Y in Z){var aa=b(Z[Y]);aa.addClass("crayon-disabled")}}else{X.show();ab.show();X.closest("tr").show();for(var Y in Z){var aa=b(Z[Y]);aa.removeClass("crayon-disabled")}}});I.change();var K=g?p.edit_text:p.add_text;b(p.dialog_title_css).html(K);if(u){u()}e.focus();m();t();if(x){clearInterval(x);z=0}var V=b("#TB_window");V.hide();var R=function(){V.show();var X=b(window).scrollTop();b(window).scrollTop(X+10);b(window).scrollTop(X-10)};x=setInterval(function(){if(typeof V!="undefined"&&!V.hasClass("crayon-te-ajax")){V.addClass("crayon-te-ajax");clearInterval(x);R()}if(z>=100){clearInterval(x);R()}z++},40)};l.addCrayon=function(){var G=b(p.url_css);if(G.val().length==0&&e.val().length==0){e.addClass(r.selected);e.focus();return false}e.removeClass(r.selected);var O=b("#"+p.inline_css);F=O.length!=0&&O.is(":checked");var I=br_after="";if(!g){if(!F){if(k=="html"){br_after=I=" \n"}else{br_after="<p>&nbsp;</p>"}}else{if(k=="html"){br_after=I=" "}else{br_after="&nbsp;"}}}var R=(F?"span":"pre");var K=I+"<"+R+" ";var M={};K+='class="';var s=new RegExp("\\b"+p.inline_css+"\\b","gim");if(F){if(s.exec(i)==null){i+=" "+p.inline_css+" "}}else{i=i.replace(s,"")}b("."+r.changed+"[id],."+r.changed+"["+p.data_value+"]").each(function(){var T=b(this).attr("id");var S=b(this).attr(p.data_value);T=f.removePrefixFromID(T);M[T]=S});M.lang=b(p.lang_css).val();var J=b(p.mark_css).val();if(J.length!=0&&!F){M.mark=J}var L=b(p.range_css).val();if(L.length!=0&&!F){M.range=L}if(b(p.hl_css).is(":checked")){M.highlight="0"}M.decode="true";M=l.validate(M);for(var H in M){var Q=M[H];CrayonUtil.log("add "+H+":"+Q);K+=H+p.attr_sep+Q+" "}K+=i;K+='" ';if(!F){var P=b(p.title_css).val();if(P.length!=0){K+='title="'+P+'" '}var G=b(p.url_css).val();if(G.length!=0){K+='data-url="'+G+'" '}}var N=b(p.code_css).val();if(v=="encode"){N=CrayonUtil.encode_html(N)}else{if(v=="decode"){N=CrayonUtil.decode_html(N)}}N=typeof N!="undefined"?N:"";K+=">"+N+"</"+R+">"+br_after;if(g&&h){h(K)}else{if(q){q(K)}}return true};l.submitButton=function(){CrayonUtil.log("submit");if(l.addCrayon()!=false){l.hideDialog()}};l.hideDialog=function(){CrayonUtil.log("hide");if(C){C()}};l.setOrigValues=function(){b("."+r.setting+"[id]").each(function(){var s=b(this);s.attr(r.orig_value,l.settingValue(s))})};l.resetSettings=function(){CrayonUtil.log("reset");b("."+r.setting).each(function(){var s=b(this);l.settingValue(s,s.attr(r.orig_value));s.change()});e.val("")};l.settingValue=function(s,G){if(typeof G=="undefined"){G="";if(s.is("input[type=checkbox]")){G=s.is(":checked")?"true":"false"}else{G=s.val()}return G}else{if(s.is("input[type=checkbox]")){if(typeof G=="string"){if(G=="true"||G=="1"){G=true}else{if(G=="false"||G=="0"){G=false}}}s.prop("checked",G)}else{s.val(G)}s.attr(p.data_value,G)}};l.validate=function(I){var s=["range","mark"];for(var G in s){var H=s[G];if(typeof I[H]!="undefined"){I[H]=I[H].replace(/\s/g,"")}}return I};l.isCrayon=function(s){return s!=null&&(s.nodeName=="PRE"||(s.nodeName=="SPAN"&&b(s).hasClass(p.inline_css)))};l.elemValue=function(G){var s=null;if(G.is("input[type=checkbox]")){s=G.is(":checked")}else{s=G.val()}return s};l.setSubmitText=function(s){n.html(s)}}})(jQueryCrayon,wp);